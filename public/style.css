:root {
  --bg-dark: #0a0a0a;
  --bg-panel: #111111;
  --primary: #00ff41; /* Verde Matrix/Hacker */
  --primary-dim: rgba(0, 255, 65, 0.1);
  --accent-red: #ff3333;
  --text-main: #e0e0e0;
  --text-muted: #666;
  --radius-lg: 12px;
  --font-main: 'Poppins', sans-serif;
  --grid-line: rgba(255, 255, 255, 0.03);
}

* { box-sizing: border-box; margin: 0; padding: 0; font-family: var(--font-main); -webkit-tap-highlight-color: transparent; }

body {
  background-color: var(--bg-dark);
  /* Fondo estilo grilla cibernética */
  background-image: 
    linear-gradient(var(--grid-line) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid-line) 1px, transparent 1px);
  background-size: 40px 40px;
  color: var(--text-main);
  height: 100vh;
  overflow: hidden;
  display: flex; justify-content: center;
}

/* === LAYOUT GENERAL === */
.screen { position: absolute; inset: 0; display: flex; flex-direction: column; width: 100%; height: 100%; overflow-y: auto; padding: 20px; }
.fade-in { animation: fadeIn 0.4s ease-out; }

/* === LOBBY DASHBOARD (NUEVO DISEÑO) === */
.lobby-container {
    max-width: 1100px; margin: 0 auto; width: 100%; height: 100%;
    display: flex; flex-direction: column; gap: 20px;
}

.brand-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid var(--grid-line); }
.logo-text { font-weight: 900; font-size: 1.5rem; letter-spacing: 2px; color: white; text-transform: uppercase; }
.logo-text span { color: var(--primary); }

/* GRID PARA PC */
.lobby-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 30px; height: 100%; overflow: hidden;
}
@media (max-width: 850px) { .lobby-grid { grid-template-columns: 1fr; overflow-y: auto; } }

.panel-box {
    background: var(--bg-panel); border: 1px solid rgba(255,255,255,0.08);
    border-radius: var(--radius-lg); padding: 25px; display: flex; flex-direction: column;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative;
    overflow: hidden;
}
.panel-box::before { /* Borde brillante arriba */
    content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 2px;
    background: linear-gradient(90deg, transparent, var(--primary), transparent);
}

.panel-title { font-size: 0.9rem; color: var(--primary); text-transform: uppercase; letter-spacing: 1.5px; font-weight: 700; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; }

/* CONFIGURACIÓN */
.config-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 15px; padding: 10px; background: rgba(255,255,255,0.02); border-radius: 8px; }
.config-label { font-size: 0.9rem; font-weight: 600; }
.counter-ui { display: flex; align-items: center; gap: 15px; background: black; padding: 5px 10px; border-radius: 20px; border: 1px solid rgba(255,255,255,0.1); }
.btn-mini { background: none; border: none; color: var(--primary); font-size: 1.2rem; cursor: pointer; padding: 0 5px; }
.val-display { font-weight: bold; min-width: 20px; text-align: center; }

/* REGLAS INTEGRADAS */
.rules-mini { font-size: 0.85rem; color: #888; line-height: 1.6; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 8px; border-left: 2px solid var(--primary); margin-top: auto; }
.rules-mini strong { color: white; }

/* LISTA DE JUGADORES */
.player-list-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; overflow-y: auto; }
.player-card {
    background: rgba(255,255,255,0.03); padding: 10px; border-radius: 8px;
    display: flex; align-items: center; gap: 10px; border: 1px solid transparent;
}
.player-card.is-me { border-color: var(--primary); background: var(--primary-dim); }
.p-avatar { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; color: black; font-size: 0.8rem; }

/* === TARJETA CIBERNÉTICA (SCANNER) === */
.scanner-container {
    width: 300px; height: 450px; perspective: 1000px; margin: 0 auto; cursor: pointer; position: relative;
}
.scanner-card {
    width: 100%; height: 100%; background: #0f0f0f; border-radius: 20px;
    border: 1px solid #333; position: relative; overflow: hidden;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    box-shadow: 0 0 40px rgba(0,0,0,0.8); transition: transform 0.6s; transform-style: preserve-3d;
}
.scanner-container.revealed .scanner-card { transform: rotateY(180deg); }

/* FRENTE */
.front-face, .back-face {
    position: absolute; inset: 0; backface-visibility: hidden;
    display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px;
}
.front-face { background: radial-gradient(circle at center, #1a1a1a, #000); }
.back-face { transform: rotateY(180deg); background: #111; border: 2px solid var(--primary); box-shadow: inset 0 0 50px var(--primary-dim); }

/* Animación Huella */
.fingerprint {
    width: 100px; height: 120px;
    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="none" stroke="%23333" stroke-width="2"><path d="M50 20 Q80 20 80 50 Q80 90 50 90 Q20 90 20 50 Q20 20 50 20" /></svg>') no-repeat center;
    background-size: contain; position: relative; opacity: 0.5; margin-bottom: 20px;
}
.scan-line {
    width: 100%; height: 4px; background: var(--primary); box-shadow: 0 0 10px var(--primary);
    position: absolute; top: 0; animation: scan 2s infinite linear;
}
@keyframes scan { 0% { top: 0; opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { top: 100%; opacity: 0; } }

.lock-text { color: var(--primary); letter-spacing: 3px; font-weight: bold; margin-top: 20px; font-size: 0.8rem; animation: blink 1s infinite; }

/* REVERSO (ROL) */
.role-reveal-box { text-align: center; }
.role-title { font-size: 2.5rem; font-weight: 900; color: white; text-transform: uppercase; margin: 10px 0; text-shadow: 0 0 20px var(--primary); }
.impostor-mode .role-title { color: var(--accent-red); text-shadow: 0 0 20px var(--accent-red); }
.impostor-mode .back-face { border-color: var(--accent-red); box-shadow: inset 0 0 50px rgba(255, 50, 50, 0.1); }
.secret-word { font-size: 1.8rem; background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 8px; margin-top: 20px; border: 1px dashed rgba(255,255,255,0.3); }

/* === GAMEPLAY === */
.game-header { position: absolute; top: 0; left: 0; right: 0; padding: 20px; display: flex; justify-content: space-between; z-index: 10; }
.room-code-pill { background: rgba(0,0,0,0.6); border: 1px solid var(--primary); padding: 8px 16px; border-radius: 4px; color: var(--primary); font-family: monospace; font-size: 1.2rem; cursor: pointer; }
.discord-btn { background: #5865F2; border: none; border-radius: 4px; width: 40px; height: 40px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: 0.2s; }
.discord-btn:hover { transform: scale(1.1); box-shadow: 0 0 15px #5865F2; }

/* BOTONES GRANDES */
.btn-action {
    width: 100%; padding: 18px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px;
    border: none; border-radius: 4px; cursor: pointer; font-size: 1rem; transition: 0.2s; margin-top: 10px;
}
.btn-primary { background: var(--primary); color: black; box-shadow: 0 0 15px var(--primary-dim); }
.btn-primary:hover { background: #33ff66; box-shadow: 0 0 25px var(--primary-dim); transform: translateY(-2px); }
.btn-danger { background: var(--accent-red); color: white; }

/* INPUTS */
.input-tech {
    background: transparent; border: none; border-bottom: 2px solid #333; width: 100%;
    color: white; font-size: 1.2rem; padding: 10px 0; outline: none; transition: 0.3s;
}
.input-tech:focus { border-color: var(--primary); }

@keyframes blink { 50% { opacity: 0.5; } }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* VOTACIÓN GRID */
.voting-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 15px; width: 100%; margin-top: 20px; }
.vote-card { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; text-align: center; cursor: pointer; border: 1px solid transparent; transition: 0.2s; }
.vote-card:hover { border-color: white; }
.vote-card.selected { border-color: var(--accent-red); background: rgba(255, 50, 50, 0.2); }